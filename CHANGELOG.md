# リリースノート

## 1.7.1 - 2026-02-16

- Blueskyドメイン認証の安定性を改善しました。

---

## 1.7.0 - 2026-02-15

### 新機能

- **Bluesky ドメイン認証対応**: Blueskyのハンドル名にサイトのドメインを使用するための設定を追加しました。プロフィールURLを入力するだけで、`.well-known/atproto-did` が自動生成されます。

- **iframe埋め込み許可ドメイン設定**: `frame-ancestors` CSPヘッダーに外部ドメインを追加できるようになりました。外部サイトからのiframe埋め込みを許可する場合に使用します。

### 改善

- **SNS本人認証設定の整理**: アコーディオン名を「SNS本人認証設定」に変更し、Mastodon/Misskey・Blueskyの設定を統合しました。

### 注意事項

- CarryPodで静的化している場合、本バージョンの機能を利用するには [CarryPod v2.8.1](https://github.com/villyoshioka/CarryPod) 以降が必要です。

---

## 1.6.0 - 2026-02-11

### 改善

- **スマートフォン・タブレット表示の最適化**: ボタンのセンタリング、ツールチップの表示位置最適化など、モバイル端末での操作性を向上しました。

---

## 1.5.0 - 2026-02-06

### 新機能

- **HTTPセキュリティヘッダーの追加**: セキュリティ強化のため、以下のヘッダーを自動出力するようになりました。
  - `Content-Security-Policy: frame-ancestors 'self'` - iframe埋め込み制限
  - `X-Content-Type-Options: nosniff` - MIMEタイプスニッフィング防止
  - `X-Robots-Tag` - robots設定（noindex、noarchive、noimageindex、noai）をHTTPヘッダーでも出力

- **JSON-LD構造化データの静的化対応**: CarryPodで静的化する際、JSON-LD構造化データ（WebSite、Organization、BreadcrumbList）のURLが自動的に静的サイトのURLに変換されるようになりました。

### 改善

- **UI改善**: JSON-LD構造化データ出力の説明文を改善しました。

### 注意事項

- このバージョンから `Content-Security-Policy: frame-ancestors 'self'` が全ページで自動適用されます。iframe埋め込みを許可している場合はご注意ください。

---

## 1.4.4 - 2026-01-24

### バグ修正

- Cloudflare Rocket Loader環境下で保護機能が動作しないことがある問題を修正しました。

---

## 1.4.3 - 2026-01-21

### 改善

- コンテンツ保護機能の互換性を向上しました。他のプラグインやテーマとより安定して動作します。

---

## 1.4.2 - 2026-01-16

### バグ修正

- 一部のキーボード保護機能が正しく動作しない問題を修正しました。

---

## 1.4.1 - 2026-01-16

### 改善

- **保護スクリプトの強化**: 保護スクリプトを強化しました。

---

## 1.4.0 - 2026-01-15

### 新機能

- **noindexタグの追加**: 検索エンジンにサイト全体をインデックスしないよう指示できる `noindex` タグを追加しました。SEO設定から有効化できます。非常に強力な設定のため、使用時は十分注意してください。

### UI改善

- **設定項目名の統一**: アコーディオン項目名に「設定」を追加し、統一感のある表示にしました（コンテンツ保護設定、サイトメタ情報の表示設定、SEO設定、Misskey/Mastodon本人認証設定）。
- **メニュー位置の変更**: WordPress管理画面のメニュー位置を「設定」の上に移動しました。

---

## 1.3.1 - 2026-01-13

### 改善

- 保護スクリプトのエンコード方式を最適化しました。  
  既存ユーザーの設定は自動的に更新されます。CarryPodを使用している場合、最新の保護スクリプトを静的ファイルに適用するため、再度静的化を行ってください。

---

## 1.3.0 - 2026-01-04

### 新機能

- **CarryPod連携機能**: CarryPodプラグインとの双方向連携に対応しました（CarryPod 2.3.0以降が必要）。設定変更時に自動的にキャッシュをクリアします。

### 改善

- **保護機能の強化**: 保護スクリプトの仕様を変更しました。

---

## 1.2.1 - 2026-01-02

### 改善

- **設定保存についての改善**: 設定画面の動作について軽微な改善をしました。

---

## 1.2.0 - 2026-01-02

### 新機能

- **REST API (wp-json) リンクの非表示**: HTMLヘッダー内のREST APIディスカバリーリンク（`<link rel="https://api.w.org/">`）を非表示にできるようになりました。
- **noimageindexタグの追加**: robots メタタグに `noimageindex` を追加できるようになりました。画像が検索エンジンの画像検索結果に表示されなくなります。

### UI改善

- **説明文のボタン化**: 設定項目の説明文を`?`アイコンのボタンに変更しました。画面がすっきりし、必要なときだけ詳細を確認できるようになりました。

---

## 1.1.0 - 2025-12-29

### 新機能

- **noarchiveタグの追加**: robots メタタグで検索エンジンのキャッシュを防止する `noarchive` タグを追加できるようにしました。
- **JSON-LD構造化データ**: WebSite、Organization、BreadcrumbList の JSON-LD 構造化データを出力する機能を追加しました。SEO向上に効果的です。

### 改善

- **デベロッパーツールブロックの強化**: キーボードショートカット無効化機能を改善し強化しました・
- **設定保存処理の改善**: 設定保存後に自動的にページをリロードするようになり、変更内容が即座に反映されるようになりました。
- **管理画面のUI改善**: アコーディオンのデフォルト状態を調整し、使いやすさを向上させました。
- **メニュー位置の調整**: 管理画面のメニュー項目の配置を最適化しました。

### セキュリティ

- 保護機能のセキュリティーを向上させました。

---

## 1.0.1 - 2025-12-25

### バグ修正

- 特定の条件下でサイト保存のショートカットが無効化されない問題を修正しました。

---

## 1.0.0 - 2025-12-25

### 初回リリース

WordPressサイトを悪意から守る、コンテンツ保護・メタタグ管理・SEO設定プラグインの初版リリースです。

### 機能

- **不要な情報の非表示**: WordPressバージョン情報、oEmbed、RSD、wlwmanifest、shortlink、pingbackを非表示にできます。  
  セキュリティ向上と静的化時の不要な情報削減に効果的です。
- **コンテンツ保護**: 右クリック禁止、デベロッパーツール系キー無効化、テキスト選択禁止、画像ドラッグ禁止、印刷禁止、AI学習防止メタタグに対応しました。  
  完全な防御ではなく、軽度の抑止力として機能します。
- **SEO機能**: Google Search Console、Bing Webmaster Toolsの認証メタタグを簡単に設定できます。
- **Misskey/Mastodonの本人確認**: Misskey・Mastodonで本人確認マーク（緑のチェック✓）を取得できます。  
  最大5個のプロフィールURLを登録でき、なりすまし防止に有効です。
- **設定管理**: 設定のエクスポート/インポート（JSON形式、バージョン情報付き）、設定のリセットに対応しました。
- **GitHub自動更新**: GitHub Releasesからの自動更新チェックに対応しました。
